<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_tup_education_application_tree" model="ir.ui.view">
        <field name="name">tup.education.application.tree</field>
        <field name="model">education.application</field>
        <field name="inherit_id" ref="education_core.view_education_application_tree"/>
        <field name="arch" type="xml">
            <field name="application_no" position="after">
                <field name="nrc_no"/>
            </field>
        </field>
    </record>

    <record model="ir.ui.view" id="view_tup_education_application_form">
        <field name="name">tup.education.application.form</field>
        <field name="model">education.application</field>
        <field name="inherit_id" ref="education_core.view_education_application_form"/>
        <field name="arch" type="xml">
            
            <button name="send_to_verify" position="before">                
                <button name="apply_major" type="object" class="oe_highlight"
                            string="Send to apply major" 
                            help="Click to send the application to apply " 
                            states="draft" attrs="{'invisible': [('student_type', '=', 'transfer_in')]}"  />
            </button>
            
            <button name="send_to_verify" position="replace">                
                <button name="send_to_verify" type="object" class="oe_highlight"
                            string="Send for Verification" groups="base.group_user"
                            help="Click to send the application for verification purpose"
                            states="apply" />               
            </button>
            
            <button name="send_to_verify" position="after">                
                <button name="paid_fee" type="object" class="oe_highlight"
                            string="Payment for Tution Fee" 
                            help="Click to send the application for payment " states="verification"/>                
            </button>
            <button name="paid_fee" position="after">                
                <button name="assign_major" type="object" class="oe_highlight"
                            string="Assign Major" 
                            help="Click to send the application for payment " states="fee"/>                
            </button>

            <button name="application_verify" position="replace">                
                <button name="application_verify" type="object" class="oe_highlight"
                            string="Verify Application" groups="base.group_user"
                            help="Click to verify the application and documents"
                            states="major"/>                           
            </button>

            <!-- <xpath expr="//div[@class='oe_button_box']/button[1]" position="after">
                <button class="oe_stat_button" name="payment_view" type="object" icon="fa-list-ol">
                    <field string="Payment" name="payment_fee" widget="statinfo"/>
                </button>
            </xpath> -->

             
            <field name="state" position="replace">
                <field name="state" widget="statusbar" statusbar_visible="draft,apply,verification,fee,major,approve,done" required="1" domain="[('student_type','=','is_new_candidate')]" />
            </field>

            <xpath expr="//div[@class='oe_title']/h1/table" position="replace">
                <tr>
                    <td style="padding-right:10px;" colspan="2"><field name="name" placeholder="First Name" required="1" attrs="{'readonly': [('state', '=', 'done')]}"/></td>
                </tr>
                <tr>
                    <td style="padding-right:10px;"><field name="middle_name" placeholder="Middle Name" attrs="{'readonly': [('state', '=', 'done')]}"/></td>
                    <td style="padding-right:10px;"><field name="last_name" placeholder="Last Name" attrs="{'readonly': [('state', '=', 'done')]}"/></td>
                </tr>
            </xpath>
            
            <xpath expr="//field[@name='father_name']" position="attributes">
                <attribute name="required">0</attribute>
            </xpath>
            <field name="caste_id" position="attributes">
                <attribute name="invisible">True</attribute>
            </field>
            <field name="mother_tongue" position="attributes">
                <attribute name="invisible">True</attribute>
            </field>
            <field name="guardian_name" position="attributes">
                <attribute name="invisible">True</attribute>
            </field>
            <field name="medium" position="attributes">
                <attribute name="invisible">True</attribute>
            </field>

            <field name="admission_class" position="attributes">
                <attribute name="invisible">True</attribute>
            </field>
         
            <field name="prev_school" position="attributes">
                <attribute name="invisible">True</attribute>
            </field>

            <field name="sec_lang" position="attributes">
                <attribute name="invisible">True</attribute>
            </field>

            <field name="admission_date" position="attributes">
                <attribute name="invisible">True</attribute>
            </field>


            <field name="medium" position="replace">
                <field name="admission_date" attrs="{'readonly': [('state', '=', 'done')]}"/>
            </field>

            <field name="admission_date" position="before">
                <field name="major_id" attrs="{'readonly': [('state', '=', 'done')],'required': [('state', '=', 'fee')]}"/>
            </field>

            
     
            <field name="date_of_birth" position="after">
                <field name="nrc_no" attrs="{'readonly': [('state', '=', 'done')]}"/>
            </field>

            <xpath expr="/form/sheet/group[1]" position="after">
                <field name="student_type" widget="radio"  options="{'horizontal':true}"/>
                    <group  attrs="{'invisible': [('student_type', '=', 'is_new_candidate')]}">
                        <field name="major_id" attrs="{'invisible': [('student_type', '=', 'is_new_candidate')],'required': [('student_type', '=', 'transfer_in')]}"/>
                        <field name="division_id" attrs="{'invisible': [('student_type', '=', 'is_new_candidate')],'required': [('student_type', '=', 'transfer_in')]}"/>
                        <field name="prev_school" attrs="{'invisible': [('student_type', '=', 'is_new_candidate')],'required': [('student_type', '=', 'transfer_in')]}"/>
                    </group>   
                    <group string="Apply Major" attrs="{'invisible': [('student_type', '=', 'transfer_in')]}">                           
                        <field name="student_id" attrs="{'invisible': [('student_type', '=', 'transfer_in')],'required': [('student_type', '=', 'is_new_candidate')]}"/>
                        <field name="roll_no"  attrs="{'invisible': [('student_type', '=', 'transfer_in')], 'required': [('student_type', '=', 'is_new_candidate')]}"/>
                        <field name="total_marks"   attrs="{'invisible': [('student_type', '=', 'transfer_in')],'required': [('student_type', '=', 'is_new_candidate')]}"/>                                      
                        <field name="first_choice"   attrs="{'invisible': [('student_type', '=', 'transfer_in')],'required': [('student_type', '=', 'is_new_candidate')]}"/>
                        <field name="second_choice"    attrs="{'invisible': [('student_type', '=', 'transfer_in')],'required': [('student_type', '=', 'is_new_candidate')]}"/>
                        <field name="third_choice"    attrs="{'invisible': [('student_type', '=', 'transfer_in')],'required': [('student_type', '=', 'is_new_candidate')]}"/>
                        <field name="forth_choice"  attrs="{'invisible': [('student_type', '=', 'transfer_in')]}"/>
                        <field name="fifth_choice"  attrs="{'invisible': [('student_type', '=', 'transfer_in')]}"/>   
                        
                    </group>
                        
            </xpath>

            <xpath expr="/form/sheet/group[4]" position="after">
                <group string="Parent's Info">
                    <group>
                            <field name="f_nrc" attrs="{'readonly': [('state', '=', 'done')]}"/>
                            <field name="f_nationality" attrs="{'readonly': [('state', '=', 'done')]}"/>
                            <field name="f_occupation" attrs="{'readonly': [('state', '=', 'done')]}"/>
                            <field name="f_religion" attrs="{'readonly': [('state', '=', 'done')]}"/>
                        </group>
                        <group>
                            <field name="m_nrc" attrs="{'readonly': [('state', '=', 'done')]}"/>
                            <field name="m_nationality" attrs="{'readonly': [('state', '=', 'done')]}"/>
                            <field name="m_occupation" attrs="{'readonly': [('state', '=', 'done')]}"/>
                            <field name="m_religion" attrs="{'readonly': [('state', '=', 'done')]}"/>
                        </group>
                </group>

            </xpath>
            <xpath expr="/form/sheet/group[8]" position="after">
            <notebook>
                <page string="Siblings Info">
                    <field name="sibling_ids" nolabel="1">
                        <tree string="Siblings Info" editable="bottom">
                            <field name="name"/>
                            <field name="nrc_no" required="1"/>
                            <field name="occupation"/>
                            <field name="address"/>
                        </tree>
                    </field>
                </page>
            </notebook>

                
            </xpath>
        </field>       
    </record>

    
</odoo>